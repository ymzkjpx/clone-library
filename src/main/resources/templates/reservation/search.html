<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="_parts/head :: meta"/>
    <title>本の検索</title>
    <th:block th:replace="_parts/head :: css"/>
</head>
<body>
<main>
    <article>
        <form method="get" action="#" th:action="@{/reservation/entries/search}">
            <label>キーワード検索（空白で全件を検索します）</label>
            <input class="input" type="text" placeholder="キーワード" th:field="${keyword.value}">
            <button>本を探す</button>
        </form>
    </article>
    <article>
        <block th:if="${books.isPresent()}">
        <h4>検索結果[冊]:
            <span th:text="${books.numberOfMaterial.show()}"></span>
        </h4>
        <table>
            <thead>
            <tr>
                <th></th>
                <th>Id</th>
                <th>Title</th>
                <th>Author</th>
                <th>Stock</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="book : ${books.asList()}">
                <td><a class="button is-primary is-small" href="#">Reserve</a></td>
                <td th:text="${book.entry.id.value()}">Title</td>
                <td th:text="${book.entry.title.value()}">Title</td>
                <td th:text="${book.entry.author.value()}">Author</td>
                <td th:text="${book.showLoanability()}">Stock</td>
            </tr>
            </tbody>
        </table>
        </block>
    </article>
</main>
</body>
</html>